{"version":3,"file":"grudus-timepicker.umd.js","sources":["../src/js/timeExtractor.js","../src/js/timeFormatter.js","../src/js/meta/clockHtml.js","../src/js/meta/config.js","../src/js/clockHeader.js","../src/js/face/minutesFace.js","../src/js/face/hoursFace.js","../src/js/meta/utils.js","../src/js/face/clockFaceCreator.js","../src/js/face/clockFace.js","../src/js/clock.js","../src/js/colorStylists.js","../src/js/timepickerCreator.js","../src/js/index.js"],"sourcesContent":["const hoursRegex = /^([0-1]?[0-9]|2[0-3])$/;\r\nconst minutesRegex = /^([0-5]?[0-9])$/;\r\nconst regex = /^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/;\r\n\r\nexport default function extractTime(date) {\r\n    if (!date)\r\n        return fromDate(new Date());\r\n    else if (date instanceof Date)\r\n        return fromDate(date);\r\n    else if (hoursRegex.test(date.hours) && minutesRegex.test(date.minutes))\r\n        return {hours: parseInt(date.hours), minutes: parseInt(date.minutes)};\r\n    else if (regex.test(date))\r\n        return fromRegex(date);\r\n    else\r\n        throw new TypeError(`INVALID FORMAT: {${JSON.stringify(date)}}.\r\n            Time must be a Date or 'hh:MM' string or object with 'hours' and 'minutes' fields`);\r\n}\r\n\r\nfunction fromRegex(date) {\r\n    const parsed = regex.exec(date);\r\n    return {hours: parseInt(parsed[1]), minutes: parseInt(parsed[2])};\r\n}\r\n\r\nfunction fromDate(date) {\r\n    return {hours: date.getHours(), minutes: date.getMinutes()};\r\n}","import extractTime from \"./timeExtractor\";\r\n\r\nexport default function (time) {\r\n    const extractedTime = extractTime(time);\r\n    return (extractedTime.hours < 10 ? \"0\" + extractedTime.hours : extractedTime.hours)\r\n        + \":\" + (extractedTime.minutes < 10 ? \"0\" + extractedTime.minutes : extractedTime.minutes);\r\n}","export default \"<section class='g-time-wrapper'>\\n\" +\r\n\"    <header class='g-head g-flex' id='g-head'>\\n\" +\r\n\"        <section class='g-head-content'>\\n\" +\r\n\"            <span class='g-current g-hour g-active g-pointer' id='g-hours'>21</span>\\n\" +\r\n\"            <span class='g-current'>:</span>\\n\" +\r\n\"            <span class='g-current g-minute g-pointer' id='g-minutes'>37</span>\\n\" +\r\n\"        </section>\\n\" +\r\n\"    </header>\\n\" +\r\n\"\\n\" +\r\n\"\\n\" +\r\n\"    <section class='g-clock-wrapper g-flex' id='g-clock-wrapper'>\\n\" +\r\n\"        <div class='g-clock' id='g-clock'>\" +\r\n\"            <span class='g-middle-dot' id='g-middle-dot'></span>\\n\" +\r\n\"            <div class='g-hand-of-a-clock' id='g-hand-of-a-clock'></div>\\n\" +\r\n\"            <div class='g-clock g-clock-inner' id='g-clock-inner'></div>\\n\" +\r\n\"        </div>\\n\" +\r\n\"    </section>\\n\" +\r\n\"\\n\" +\r\n\"\\n\" +\r\n\"    <footer class='g-buttons g-flex' id='g-buttons'>\\n\" +\r\n\"        <button id='g-time-cancel' class='g-button g-cancel g-pointer'>CANCEL</button>\\n\" +\r\n\"        <button id='g-time-submit' class='g-button g-submit g-pointer'>OK</button>\\n\" +\r\n\"    </footer>\\n\" +\r\n\"\\n\" +\r\n\"</section>\";","const clockId = \"grudus-clock\";\r\n\r\nconst defaultConfig = {\r\n    onSubmit: () => {\r\n    },\r\n    onCancel: () => {\r\n    },\r\n    headerBackground: \"#1976D2\",\r\n    headerColor: \"#c7d6e1\",\r\n    headerSelected: \"#ffffff\",\r\n    wrapperBackground: \"#f0fff0\",\r\n    footerBackground: \"#f0fff0\",\r\n    submitColor: \"#1976D2\",\r\n    cancelColor: \"#1976D2\",\r\n    clockBackground: \"#CFD8DC\",\r\n    clockItemColor: \"#212121\",\r\n    clockItemInnerColor: \"#212121\",\r\n    handColor: \"#1976D2\"\r\n};\r\n\r\nconst FaceType = {HOURS: \"hours\", MINUTES: \"minutes\"};\r\n\r\nconst css = {\r\n    clock: \"g-clock\",\r\n    clockItem: \"g-clock-item\",\r\n    inner: \"g-clock-inner\",\r\n    outer: \"g-clock-outer\",\r\n    item: \"g-clock-item\",\r\n    hand: \"g-hand-of-a-clock\",\r\n    fadeOut: \"g-fade-out\",\r\n    selected: \"g-selected\",\r\n    active: \"g-active\",\r\n    submit: \"g-submit\",\r\n    cancel: \"g-cancel\",\r\n    hour: \"g-hour\",\r\n    minute: \"g-minute\"\r\n};\r\n\r\nconst DOM = {\r\n    headerId: \"g-head\",\r\n    hoursId: \"g-hours\",\r\n    minutesId: \"g-minutes\",\r\n    clockId: \"g-clock\",\r\n    innerId: \"g-clock-inner\",\r\n    wrapperId: \"g-clock-wrapper\",\r\n    dotId: \"g-middle-dot\",\r\n    handId: \"g-hand-of-a-clock\",\r\n    buttonsId: \"g-buttons\",\r\n    submitId: \"g-time-submit\",\r\n    cancelId: \"g-time-cancel\"\r\n};\r\n\r\nexport default {clockId, clockConfig: defaultConfig, FaceType};\r\nexport {css, DOM};","import {DOM} from \"./meta/config\";\r\n\r\nexport default class ClockHeader {\r\n\r\n    constructor(config) {\r\n        this.options = config.options;\r\n        this.time = config.time;\r\n        this.onHourClicked = config.onHourClicked;\r\n        this.onMinutesClicked = config.onMinutesClicked;\r\n\r\n        this.initView();\r\n    }\r\n\r\n    initView() {\r\n        this.headerHours = document.getElementById(DOM.hoursId);\r\n        this.headerHours.onclick = () => {\r\n            this.toggleActiveToHours();\r\n            this.onHourClicked();\r\n        };\r\n\r\n        this.headerMinutes = document.getElementById(DOM.minutesId);\r\n        this.headerMinutes.onclick = () => {\r\n            this.toggleActiveToMinutes();\r\n            this.onMinutesClicked();\r\n        };\r\n\r\n        this.updateDisplayedTime();\r\n        this.toggleActiveToHours();\r\n    }\r\n\r\n    toggleActiveToMinutes() {\r\n        this.toggleActive(this.headerHours, this.headerMinutes);\r\n    }\r\n\r\n    toggleActiveToHours() {\r\n        this.toggleActive(this.headerMinutes, this.headerHours);\r\n    }\r\n\r\n    toggleActive(objectToRemoveClass, objectToAddClass) {\r\n        objectToRemoveClass.style.color = this.options.headerColor;\r\n        objectToAddClass.style.color = this.options.headerSelected;\r\n    }\r\n\r\n    updateDisplayedTime() {\r\n        ClockHeader.doUpdateDisplayedTime(this.headerHours, this.time.hours);\r\n        ClockHeader.doUpdateDisplayedTime(this.headerMinutes, this.time.minutes);\r\n    }\r\n\r\n    static doUpdateDisplayedTime(node, value) {\r\n        if (value < 10)\r\n            node.innerText = \"0\" + value;\r\n        else node.innerText = value;\r\n    }\r\n}","import Config, {css} from \"../meta/config\";\r\n\r\nexport default class MinutesFace {\r\n\r\n    constructor(items, initialMinutes, updateMinutes) {\r\n        this.displayed = [\"00\", \"05\", \"10\", \"15\", \"20\", \"25\", \"30\", \"35\", \"40\", \"45\", \"50\", \"55\"];\r\n        this.options = items.options;\r\n        this.type = Config.FaceType.MINUTES;\r\n        this.selected = undefined;\r\n        this.items = items;\r\n        this.minutes = initialMinutes;\r\n        this.updateMinutes = updateMinutes;\r\n    }\r\n\r\n    onEnter() {\r\n        this.selected = this.findSelected(this.minutes);\r\n        this.colorSelected();\r\n        this.updateMinutes(this.minutes, this.minutes * 6);\r\n    }\r\n\r\n    onLeave() {\r\n        if (this.selected) {\r\n            this.removeSelected();\r\n            this.selected = undefined;\r\n        }\r\n    }\r\n\r\n    selectTime(angle) {\r\n        if (this.selected)\r\n            this.removeSelected();\r\n\r\n        const minute = Math.round(angle / 6) % 60;\r\n        this.selected = this.findSelected(minute);\r\n        this.colorSelected();\r\n        this.minutes = minute;\r\n        this.updateMinutes(this.minutes, angle);\r\n    }\r\n\r\n    findSelected(minute) {\r\n        return (minute % 5 === 0) ? this.items.clockItems[minute / 5] : this.items.outerClockItems[minute];\r\n    }\r\n\r\n    colorSelected() {\r\n        if (this.isOuter()) {\r\n            this.selected.classList.add(css.selected);\r\n            return;\r\n        }\r\n        this.selected.style.background = this.options.handColor;\r\n        this.selected.style.color = \"whitesmoke\";\r\n    }\r\n\r\n    removeSelected() {\r\n        if (this.isOuter()) {\r\n            this.selected.classList.remove(css.selected);\r\n            return;\r\n        }\r\n        this.selected.style.background = \"transparent\";\r\n        this.selected.style.color = this.options.clockItemColor;\r\n    }\r\n\r\n    isOuter() {\r\n        return this.items.outerClockItems.indexOf(this.selected) > -1;\r\n    }\r\n}","import Config from \"../meta/config\";\r\n\r\nexport default class HoursFace {\r\n\r\n    constructor(items, initialHours, updateHours) {\r\n        this.displayed = [\"12\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\"];\r\n        this.displayedInner = [\"00\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\"];\r\n        this.type = Config.FaceType.MINUTES;\r\n        this.selected = undefined;\r\n        this.options = items.options;\r\n\r\n        this.items = items;\r\n        this.hours = initialHours;\r\n        this.updateHours = updateHours;\r\n    }\r\n\r\n    onEnter() {\r\n        this.items.innerClockElem.style.display = \"block\";\r\n        const isInnerClock = this.hours < 13 && this.hours !== 0;\r\n        const hoursIndex = this.hours % 12;\r\n        this.selected = isInnerClock ? this.items.clockItems[hoursIndex] : this.items.innerClockItems[hoursIndex];\r\n        this.colorSelected();\r\n\r\n        this.updateHours(this.hours, hoursIndex * 30, isInnerClock ? this.items.radius : this.items.radius - 50);\r\n    }\r\n\r\n    onLeave() {\r\n        this.items.innerClockElem.style.display = \"none\";\r\n        if (this.selected) {\r\n            this.removeSelected();\r\n            this.selected = undefined;\r\n        }\r\n    }\r\n\r\n    selectTime(angle, elem) {\r\n        if (this.selected)\r\n            this.removeSelected();\r\n\r\n        const index = Math.round(angle / 30) % 12;\r\n        this.selected = (elem === this.items.innerClockElem\r\n            ? this.items.innerClockItems\r\n            : this.items.clockItems)[index];\r\n\r\n        this.colorSelected();\r\n        this.hours = parseInt(this.selected.innerText);\r\n        const selectedAngle = Math.round(angle / 30) * 30;\r\n\r\n        this.updateHours(this.hours, selectedAngle,\r\n            elem === this.items.innerClockElem ? this.items.radius - 50 : this.items.radius);\r\n    }\r\n\r\n    colorSelected() {\r\n        this.selected.style.background = this.options.handColor;\r\n        this.selected.style.color = \"#ffffff\";\r\n    }\r\n\r\n    removeSelected() {\r\n        this.selected.style.background = \"transparent\";\r\n        this.selected.style.color = this.isInner()\r\n            ? this.options.clockItemInnerColor\r\n            : this.options.clockItemColor;\r\n    }\r\n\r\n    isInner() {\r\n        return Array.from(this.items.innerClockItems).indexOf(this.selected) > -1;\r\n    }\r\n}","function toRadians(angle) {\r\n    return angle * (Math.PI / 180);\r\n}\r\n\r\nfunction toDegrees(angle) {\r\n    return angle * (180 / Math.PI);\r\n}\r\n\r\nfunction findMousePosition(event, object) {\r\n    const rect = object.getBoundingClientRect();\r\n    return {\r\n        x: event.clientX - rect.left,\r\n        y: event.clientY - rect.top\r\n    };\r\n}\r\n\r\nfunction delay(t) {\r\n    return new Promise(function (resolve) {\r\n        setTimeout(resolve, t);\r\n    });\r\n}\r\n\r\nPromise.delay = function (fn, t) {\r\n    if (!t) {\r\n        t = fn;\r\n        fn = function () {\r\n        };\r\n    }\r\n    return delay(t).then(fn);\r\n};\r\n\r\nPromise.prototype.delay = function (fn, t) {\r\n    return this.then(function () {\r\n        return Promise.delay(fn, t);\r\n    });\r\n};\r\n\r\nexport default {toRadians, toDegrees, findMousePosition};","import Utils from \"../meta/utils\";\r\nimport {css} from \"../meta/config\";\r\n\r\nexport default class ClockFaceCreator {\r\n\r\n    constructor(clockElem, innerClockElem) {\r\n        this.clockElem = clockElem;\r\n        this.innerClockElem = innerClockElem;\r\n        this.size = {};\r\n        this.middle = {};\r\n    }\r\n\r\n    create(clockItems, innerClockItems, outerClockItems, face) {\r\n        ClockFaceCreator.doCreate(clockItems, this.clockElem, span => span.classList.add(css.item));\r\n        ClockFaceCreator.doCreate(innerClockItems, this.innerClockElem, (span, i) => {\r\n            span.classList.add(css.item, css.inner);\r\n            span.innerText = face.displayedInner[i];\r\n        });\r\n\r\n        for (let i = 0; i < 60; i++) {\r\n            const span = document.createElement(\"span\");\r\n            span.classList.add(css.outer);\r\n            outerClockItems.push(span);\r\n            this.clockElem.appendChild(span);\r\n        }\r\n    }\r\n\r\n    static doCreate(clockItems, clockElem, fun) {\r\n        for (let i = 0; i < 12; i++) {\r\n            const span = document.createElement(\"span\");\r\n            fun(span, i);\r\n            clockItems.push(span);\r\n            clockElem.appendChild(span);\r\n        }\r\n    }\r\n\r\n    calculateSize(clockItems, innerClockItems, outerClockItems) {\r\n        this.size.width = this.clockElem.offsetWidth;\r\n        this.size.height = this.clockElem.offsetHeight;\r\n        this.middle.x = this.size.width / 2;\r\n        this.middle.y = this.size.height / 2;\r\n        this.itemsRadius = this.size.width / 2 - 20;\r\n\r\n        const innerWidth = this.innerClockElem.offsetWidth;\r\n        const innerHeight = this.innerClockElem.offsetHeight;\r\n        const middleX = innerWidth / 2;\r\n        const middleY = innerHeight / 2;\r\n\r\n        ClockFaceCreator.doCalculateSize(this.middle.x, this.middle.y, this.itemsRadius, clockItems);\r\n        ClockFaceCreator.doCalculateSize(middleX, middleY, this.itemsRadius - 40, innerClockItems);\r\n        ClockFaceCreator.doCalculateSize(this.middle.x, this.middle.y, this.itemsRadius, outerClockItems);\r\n    }\r\n\r\n    static doCalculateSize(middleX, middleY, radius, items) {\r\n        const angleQuantum = 360 / items.length;\r\n        for (let i = 0; i < items.length; i++) {\r\n\r\n            const angle = Utils.toRadians(i * angleQuantum);\r\n            const item = items[i];\r\n            const itemWidth = item.offsetWidth;\r\n            const itemHeight = item.offsetHeight;\r\n\r\n            item.style.left = ((middleX + Math.sin(angle) * radius) - itemWidth / 2) + \"px\";\r\n            item.style.bottom = ((middleY + Math.cos(angle) * radius) - itemHeight / 2) + \"px\";\r\n        }\r\n    }\r\n}","import MinutesFace from \"./minutesFace\";\r\nimport HoursFace from \"./hoursFace\";\r\nimport Utils from \"../meta/utils\";\r\nimport Config, {css, DOM} from \"../meta/config\";\r\nimport ClockFaceCreator from \"./clockFaceCreator\";\r\n\r\nexport default class ClockFace {\r\n\r\n    constructor(options, initialTime, onTimeUpdate) {\r\n        this.options = options;\r\n        this.time = initialTime;\r\n        this.onTimeUpdate = onTimeUpdate;\r\n        this.isMouseDown = false;\r\n        this.clockItems = [];\r\n        this.innerClockItems = [];\r\n        this.outerClockItems = [];\r\n        this.size = {};\r\n        this.middle = {};\r\n\r\n        this.initViews();\r\n        this.initTimeFaces(initialTime);\r\n        this.createFace();\r\n\r\n        this.hoursFace.items.radius = this.itemsRadius;\r\n\r\n        this.currentFace = this.hoursFace;\r\n        this.changeDisplayed(this.currentFace.displayed);\r\n    }\r\n\r\n    initViews() {\r\n        this.clockElem = document.getElementById(DOM.clockId);\r\n        this.innerClockElem = document.getElementById(DOM.innerId);\r\n        this.handOfAClock = document.getElementById(DOM.handId);\r\n\r\n        this.clockElem.onmousedown = () => this.isMouseDown = true;\r\n        this.clockElem.onmouseup = () => {this.isMouseDown = false;\r\n            this.toggleToMinutes();\r\n        };\r\n\r\n        this.handOfAClock.onmouseup = (e) => e.stopPropagation();\r\n        this.handOfAClock.onmousemove = (e) => e.stopPropagation();\r\n        this.handOfAClock.onclick = (e) => e.stopPropagation();\r\n\r\n        this.clockElem.onmousemove = (e) => this.selectTime(e, false, this.clockElem);\r\n        this.clockElem.onclick = (e) => this.selectTime(e, true, this.clockElem);\r\n\r\n        this.innerClockElem.onmousemove = (e) => this.selectTime(e, false, this.innerClockElem);\r\n        this.innerClockElem.onclick = (e) => this.selectTime(e, true, this.innerClockElem);\r\n    }\r\n\r\n    initTimeFaces(initialTime) {\r\n        this.minutesFace = new MinutesFace({\r\n            options: this.options,\r\n            clockItems: this.clockItems,\r\n            outerClockItems: this.outerClockItems\r\n        }, initialTime.minutes, (minutes, angle) => this.updateMinutes(minutes, angle));\r\n\r\n        this.hoursFace = new HoursFace({\r\n            options: this.options,\r\n            innerClockItems: this.innerClockItems,\r\n            clockItems: this.clockItems,\r\n            innerClockElem: this.innerClockElem\r\n        }, initialTime.hours, (hours, angle, radius) => this.updateHours(hours, angle, radius));\r\n    }\r\n\r\n    onStart() {\r\n        this.currentFace.onEnter();\r\n    }\r\n\r\n    createFace() {\r\n        const clockFaceCreator = new ClockFaceCreator(this.clockElem, this.innerClockElem);\r\n        clockFaceCreator.create(this.clockItems, this.innerClockItems, this.outerClockItems, this.hoursFace);\r\n        clockFaceCreator.calculateSize(this.clockItems, this.innerClockItems, this.outerClockItems);\r\n\r\n        this.size = clockFaceCreator.size;\r\n        this.middle = clockFaceCreator.middle;\r\n        this.itemsRadius = clockFaceCreator.itemsRadius;\r\n    }\r\n\r\n    selectTime(event, isMouseDown, elem) {\r\n        if (!(isMouseDown || this.isMouseDown))\r\n            return;\r\n        const mouse = Utils.findMousePosition(event, this.clockElem);\r\n        const x = mouse.x - this.middle.x;\r\n        const y = this.middle.y - mouse.y;\r\n        let angle = 90 - Utils.toDegrees(Math.atan(y / x));\r\n        if (x < 0) angle += 180;\r\n\r\n        this.currentFace.selectTime(angle, elem);\r\n        event.stopPropagation();\r\n    }\r\n\r\n    changeDisplayed(array) {\r\n        for (let i = 0; i < this.clockItems.length; i++)\r\n            this.clockItems[i].innerText = array[i];\r\n    }\r\n\r\n    onEachClockElement(fun) {\r\n        [].forEach.call(this.clockItems, c => fun(c));\r\n    }\r\n\r\n    updateMinutes(minutes, angle) {\r\n        this.time.minutes = minutes;\r\n        this.calculateHandOfTheClock(angle, this.itemsRadius);\r\n        this.onTimeUpdate(this.time, Config.FaceType.MINUTES);\r\n    }\r\n\r\n    updateHours(hours, angle, radius) {\r\n        this.time.hours = hours;\r\n        this.calculateHandOfTheClock(angle, radius);\r\n        this.onTimeUpdate(this.time, Config.FaceType.HOURS);\r\n    }\r\n\r\n    calculateHandOfTheClock(angle, size = this.itemsRadius) {\r\n        this.handOfAClock.style.transform = `rotate(${angle - 90}deg)`;\r\n        this.handOfAClock.style.width = size + \"px\";\r\n    }\r\n\r\n    toggleToHours() {\r\n        this.minutesFace.onLeave();\r\n        this.toggleTime(this.hoursFace);\r\n    }\r\n\r\n    toggleToMinutes() {\r\n        this.hoursFace.onLeave();\r\n        this.toggleTime(this.minutesFace);\r\n    }\r\n\r\n    toggleTime(face) {\r\n        if (this.currentFace !== face) {\r\n            this.onEachClockElement(c => c.classList.add(css.fadeOut));\r\n            this.handOfAClock.classList.add(css.fadeOut);\r\n            Promise.delay(() => {\r\n                this.onEachClockElement(c => c.classList.remove(css.fadeOut));\r\n                this.handOfAClock.classList.remove(css.fadeOut);\r\n                this.changeDisplayed(face.displayed);\r\n                this.currentFace = face;\r\n                this.onEachClockElement(c => this.removeSelected(c));\r\n                face.onEnter();\r\n            }, 300);\r\n        }\r\n    }\r\n\r\n    removeSelected(c) {\r\n        c.classList.remove(css.selected);\r\n        c.style.background = \"transparent\";\r\n        c.style.color = this.options.clockItemColor;\r\n    }\r\n}","import ClockHeader from \"./clockHeader\";\r\nimport ClockFace from \"./face/clockFace\";\r\nimport Config, {DOM} from \"./meta/config\";\r\nimport formatTime from \"./timeFormatter\";\r\n\r\nexport default class Clock {\r\n\r\n    constructor(options, time) {\r\n        this.options = options;\r\n\r\n        this.initView();\r\n        this.time = time;\r\n        this.initElements();\r\n    }\r\n\r\n    initView() {\r\n        this.submitButton = document.getElementById(DOM.submitId);\r\n        this.submitButton.onclick = () => {\r\n            const time = this.time;\r\n            time.formatted = () => formatTime(time);\r\n            this.options.onSubmit(time);\r\n            Clock.dispose();\r\n        };\r\n\r\n        this.cancelButton = document.getElementById(DOM.cancelId);\r\n        this.cancelButton.onclick = () => {\r\n            this.options.onCancel();\r\n            Clock.dispose();\r\n        };\r\n    }\r\n\r\n    initElements() {\r\n        this.header = new ClockHeader({\r\n            options: this.options,\r\n            time: this.time,\r\n            onHourClicked: () => this.toggleToHours(),\r\n            onMinutesClicked: () => this.toggleToMinutes()\r\n        });\r\n        this.clockFace = new ClockFace(this.options, this.time, (time, type) => this.onTimeUpdate(time, type));\r\n    }\r\n\r\n    onStart() {\r\n        this.clockFace.onStart();\r\n    }\r\n\r\n    toggleToHours() {\r\n        this.clockFace.toggleToHours();\r\n    }\r\n\r\n    toggleToMinutes() {\r\n        this.clockFace.toggleToMinutes();\r\n    }\r\n\r\n    onTimeUpdate(time, type) {\r\n        this.time = time;\r\n        this.header.time = time;\r\n        this.header.updateDisplayedTime();\r\n        if (type === Config.FaceType.MINUTES)\r\n            this.header.toggleActiveToMinutes();\r\n\r\n    }\r\n\r\n    static dispose() {\r\n        document.body.removeChild(document.getElementById(Config.clockId));\r\n    }\r\n}","import {css, DOM} from \"./meta/config\";\r\n\r\nexport default function styleColors(options) {\r\n    document.getElementById(DOM.headerId).style.background = options.headerBackground;\r\n    document.getElementById(DOM.headerId).style.color = options.headerColor;\r\n    document.getElementById(DOM.wrapperId).style.background = options.wrapperBackground;\r\n    document.getElementById(DOM.clockId).style.background = options.clockBackground;\r\n    document.getElementById(DOM.handId).style.background = options.handColor;\r\n    document.getElementById(DOM.dotId).style.background = options.handColor;\r\n    document.getElementById(DOM.buttonsId).style.background = options.footerBackground;\r\n    document.getElementById(DOM.submitId).style.color = options.submitColor;\r\n    document.getElementById(DOM.cancelId).style.color = options.cancelColor;\r\n\r\n    changeColor(css.clockItem, options.clockItemColor);\r\n    changeColor(css.inner, options.clockItemInnerColor);\r\n    changeColor(css.outer, options.handColor, \"borderColor\");\r\n}\r\n\r\nfunction changeColor(className, color, property = \"color\") {\r\n    const items = Array.from(document.getElementsByClassName(className));\r\n    for (const item of items)\r\n        item.style[property] = color;\r\n}\r\n","import clockHtml from \"./meta/clockHtml\";\r\nimport Config from \"./meta/config\";\r\nimport Clock from \"./clock\";\r\nimport styleColors from \"./colorStylists\";\r\nimport getTime from \"./timeExtractor\";\r\n\r\n\r\nexport default function showPicker(config = {}) {\r\n    createDom();\r\n\r\n    const options = Object.assign({}, Config.clockConfig, config);\r\n    const time = getTime(options.time);\r\n\r\n    const clock = new Clock(options, time);\r\n    styleColors(options);\r\n    clock.onStart();\r\n}\r\n\r\n\r\nfunction createDom() {\r\n    if (document.getElementById(Config.clockId))\r\n        throw Error(\"There is already one running grudus-timepicker instance!\");\r\n\r\n    const clockDiv = document.createElement(\"div\");\r\n    clockDiv.id = Config.clockId;\r\n    clockDiv.innerHTML = clockHtml;\r\n    document.body.appendChild(clockDiv);\r\n}\r\n","import formatTime from \"./timeFormatter\";\r\nimport showPicker from \"./timepickerCreator\";\r\n\r\nexport default {\r\n    showPicker: (config) => showPicker(config),\r\n    format: (time) => formatTime(time)\r\n};\r\n\r\n"],"names":["hoursRegex","minutesRegex","regex","extractTime","date","fromDate","Date","test","hours","minutes","parseInt","fromRegex","TypeError","JSON","stringify","parsed","exec","getHours","getMinutes","time","extractedTime","clockId","defaultConfig","FaceType","HOURS","MINUTES","css","DOM","clockConfig","ClockHeader","config","options","onHourClicked","onMinutesClicked","initView","headerHours","document","getElementById","hoursId","onclick","toggleActiveToHours","headerMinutes","minutesId","toggleActiveToMinutes","updateDisplayedTime","toggleActive","objectToRemoveClass","objectToAddClass","style","color","headerColor","headerSelected","doUpdateDisplayedTime","node","value","innerText","MinutesFace","items","initialMinutes","updateMinutes","displayed","type","Config","selected","undefined","findSelected","colorSelected","removeSelected","angle","minute","Math","round","clockItems","outerClockItems","isOuter","classList","add","background","handColor","remove","clockItemColor","indexOf","HoursFace","initialHours","updateHours","displayedInner","innerClockElem","display","isInnerClock","hoursIndex","innerClockItems","radius","elem","index","selectedAngle","isInner","clockItemInnerColor","Array","from","toRadians","PI","toDegrees","findMousePosition","event","object","rect","getBoundingClientRect","clientX","left","clientY","top","delay","t","Promise","resolve","fn","then","prototype","ClockFaceCreator","clockElem","size","middle","face","doCreate","span","item","i","inner","createElement","outer","push","appendChild","width","offsetWidth","height","offsetHeight","x","y","itemsRadius","innerWidth","innerHeight","middleX","middleY","doCalculateSize","fun","angleQuantum","length","Utils","itemWidth","itemHeight","sin","bottom","cos","ClockFace","initialTime","onTimeUpdate","isMouseDown","initViews","initTimeFaces","createFace","hoursFace","currentFace","changeDisplayed","innerId","handOfAClock","handId","onmousedown","onmouseup","toggleToMinutes","e","stopPropagation","onmousemove","selectTime","minutesFace","onEnter","clockFaceCreator","create","calculateSize","mouse","atan","array","forEach","call","c","calculateHandOfTheClock","transform","onLeave","toggleTime","onEachClockElement","fadeOut","Clock","initElements","submitButton","submitId","formatted","formatTime","onSubmit","dispose","cancelButton","cancelId","onCancel","header","toggleToHours","clockFace","onStart","body","removeChild","styleColors","headerId","headerBackground","wrapperId","wrapperBackground","clockBackground","dotId","buttonsId","footerBackground","submitColor","cancelColor","clockItem","changeColor","className","property","getElementsByClassName","showPicker","Object","assign","getTime","clock","createDom","Error","clockDiv","id","innerHTML","clockHtml"],"mappings":"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"}